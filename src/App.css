.app{display:flex;flex-direction:column;height:100vh;background:#fff}

.header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:16px 20px;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,0.1);position:relative}
.header h1{font-size:20px;margin-bottom:4px}
.subtitle{font-size:12px;opacity:0.9}

.clear-btn{position:absolute;right:20px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:20px;cursor:pointer;opacity:0.7;transition:opacity 0.2s;color:#fff}
.clear-btn:hover{opacity:1}

.messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px}
.empty{text-align:center;color:#999;padding:40px 20px}
.empty .hint{font-size:14px;margin-top:8px}

.message{display:flex}
.message.user{justify-content:flex-end}
.message.model{justify-content:flex-start}

.bubble{max-width:80%;padding:12px 16px;border-radius:18px;font-size:15px;line-height:1.6;word-wrap:break-word;overflow-wrap:break-word;white-space:pre-wrap}
.user .bubble{background:#667eea;color:#fff;border-bottom-right-radius:4px}
.model .bubble{background:#f0f0f0;color:#333;border-bottom-left-radius:4px}
.bubble.loading{animation:pulse 1.5s infinite}

@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}

.input-bar{display:flex;gap:8px;padding:12px;background:#fff;border-top:1px solid #e0e0e0}
.input-bar input{flex:1;padding:12px 16px;border:1px solid #ddd;border-radius:24px;font-size:15px;outline:none}
.input-bar input:focus{border-color:#667eea}
.input-bar button{width:48px;height:48px;background:#667eea;color:#fff;border:none;border-radius:50%;font-size:20px;cursor:pointer;transition:all 0.2s}
.input-bar button:hover:not(:disabled){background:#5568d3;transform:scale(1.05)}
.input-bar button:disabled{opacity:0.5;cursor:not-allowed}

.fab{position:fixed;right:20px;bottom:80px;width:56px;height:56px;background:#28a745;color:#fff;border:none;border-radius:50%;font-size:32px;box-shadow:0 4px 12px rgba(0,0,0,0.15);cursor:pointer;transition:all 0.2s;z-index:100}
.fab:hover{transform:scale(1.1);box-shadow:0 6px 16px rgba(0,0,0,0.2)}

.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:flex-end;z-index:1000}
.modal{background:#fff;width:100%;max-height:85vh;border-radius:20px 20px 0 0;padding:20px;overflow-y:auto}
.modal h2{margin-bottom:16px;font-size:18px}

.modal label{display:block;margin-top:12px;margin-bottom:6px;font-size:14px;font-weight:600;color:#333}
.modal textarea,.modal input,.modal select{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:15px;font-family:inherit;margin-bottom:4px}
.modal textarea{resize:vertical;min-height:60px}
.modal select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center}
.modal optgroup{font-weight:600;font-size:13px;color:#667eea}
.modal option{font-weight:normal;color:#333;padding:8px}

.hint-text{font-size:12px;color:#999;margin-top:2px;margin-bottom:8px}
.api-link{display:inline-block;font-size:13px;color:#667eea;text-decoration:none;margin-top:4px;margin-bottom:8px}
.api-link:hover{text-decoration:underline}

.toggle-section{margin:16px 0;padding:12px;background:#f8f9fa;border-radius:8px}
.toggle-label{display:flex;align-items:center;gap:10px;cursor:pointer;margin-bottom:4px}
.toggle-label input[type="checkbox"]{width:18px;height:18px;cursor:pointer}
.toggle-label span{font-size:14px;font-weight:500}

.modal-actions{display:flex;gap:12px;margin-top:20px}
.modal-actions button{flex:1;padding:12px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}
.btn-secondary{background:#e0e0e0;color:#333}
.btn-primary{background:#667eea;color:#fff}

.loading-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:16px}
.spinner{width:40px;height:40px;border:4px solid #f0f0f0;border-top:4px solid #667eea;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Header actions */
.header-actions{position:absolute;right:16px;top:50%;transform:translateY(-50%);display:flex;gap:8px}
.icon-btn{background:none;border:none;font-size:18px;cursor:pointer;opacity:0.8;transition:opacity 0.2s;color:#fff;padding:4px 8px}
.icon-btn:hover{opacity:1}

/* Debug modal */
.debug-modal{max-width:500px;margin:auto}
.debug-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:16px 0}
.debug-item{background:#f8f9fa;padding:12px;border-radius:8px}
.debug-label{display:block;font-size:12px;color:#666;margin-bottom:4px}
.debug-value{display:block;font-size:18px;font-weight:600;color:#333}
.debug-explanation{background:#e3f2fd;padding:12px;border-radius:8px;margin-top:16px}
.debug-explanation h3{font-size:14px;margin-bottom:8px}
.debug-explanation p{font-size:13px;line-height:1.5;margin-bottom:8px}
